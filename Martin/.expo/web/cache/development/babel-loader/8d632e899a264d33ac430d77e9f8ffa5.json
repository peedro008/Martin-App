{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tobia\\\\Food\\\\Martin-App\\\\Martin\\\\screens\\\\Admin\\\\Stack\\\\editProduct.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Picker } from '@react-native-picker/picker';\nimport axios from 'axios';\nimport { TextInput } from 'react-native-gesture-handler';\nimport { updateProduct } from \"../../../actions\";\nimport { useDispatch } from 'react-redux';\nimport { IP } from \"../../../env\";\nexport default function editProduct(_ref) {\n  var route = _ref.route;\n  var id = route.params.id;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    axios.get(IP + \"/products?id=\" + id).then(function (response) {\n      setProduct(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n\n  var handleDescription = function handleDescription(description) {\n    setProduct(_objectSpread(_objectSpread({}, product), {}, {\n      description: description\n    }));\n  };\n\n  var handlePrice = function handlePrice(price) {\n    setProduct(_objectSpread(_objectSpread({}, product), {}, {\n      price: price\n    }));\n  };\n\n  var handleSale = function handleSale(value) {\n    setProduct(_objectSpread(_objectSpread({}, product), {}, {\n      sale: !product.sale\n    }));\n    console.log(product.sale);\n  };\n\n  var handleUpdate = function handleUpdate() {\n    dispatch(updateProduct(product.price, product.id));\n  };\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 18\n    }\n  }, product.name), React.createElement(Image, {\n    source: {\n      uri: product.img\n    },\n    style: {\n      width: 150,\n      height: 150\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 18\n    }\n  }), React.createElement(TextInput, {\n    multiline: true,\n    numberOfLines: 6,\n    value: product.description,\n    onChangeText: handleDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: styles.editProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 27\n    }\n  }, \"Price:\"), \" USD \"), React.createElement(TextInput, {\n    style: styles.textInput,\n    value: product.price,\n    onChangeText: handlePrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: styles.editProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 27\n    }\n  }, \" On sale:\"), \" \"), React.createElement(Picker, {\n    onValueChange: function onValueChange(value) {\n      return handleSale(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Yes\",\n    value: product.sale ? \"yes\" : \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"No\",\n    value: !product.sale ? \"yes\" : \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }))), React.createElement(Button, {\n    title: \"Update Product\",\n    onPress: function onPress() {\n      return handleUpdate();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/tobia/Food/Martin-App/Martin/screens/Admin/Stack/editProduct.js"],"names":["React","useState","useEffect","Picker","axios","TextInput","updateProduct","useDispatch","IP","editProduct","route","id","params","product","setProduct","dispatch","get","then","response","data","catch","error","console","log","handleDescription","description","handlePrice","price","handleSale","value","sale","handleUpdate","name","uri","img","width","height","styles","textInput"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAsC,OAAtC;;;;;;AAEA,SAAQC,MAAR,QAAqB,6BAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,8BAA1B;AACA,SAAQC,aAAR;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,EAAT;AAGA,eAAe,SAASC,WAAT,OAA8B;AAAA,MAARC,KAAQ,QAARA,KAAQ;AACzC,MAAOC,EAAP,GAAWD,KAAK,CAACE,MAAjB,CAAOD,EAAP;;AACA,kBAA6BV,QAAQ,CAAC,EAAD,CAArC;AAAA;AAAA,MAAOY,OAAP;AAAA,MAAgBC,UAAhB;;AACA,MAAMC,QAAQ,GAAER,WAAW,EAA3B;AAEAL,EAAAA,SAAS,CAAC,YAAI;AACVE,IAAAA,KAAK,CAACY,GAAN,CAAaR,EAAb,qBAA+BG,EAA/B,EACKM,IADL,CACU,UAASC,QAAT,EAAkB;AACpBJ,MAAAA,UAAU,CAACI,QAAQ,CAACC,IAAV,CAAV;AACH,KAHL,EAIKC,KAJL,CAIW,UAAAC,KAAK,EAAE;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KANL;AAQC,GATI,EASH,EATG,CAAT;;AAWI,MAAMG,iBAAiB,GAAC,SAAlBA,iBAAkB,CAACC,WAAD,EAAe;AACnCX,IAAAA,UAAU,iCAEAD,OAFA;AAGHY,MAAAA,WAAW,EAAXA;AAHG,OAAV;AAMH,GAPD;;AAQA,MAAMC,WAAW,GAAC,SAAZA,WAAY,CAACC,KAAD,EAAS;AACvBb,IAAAA,UAAU,iCAEAD,OAFA;AAGHc,MAAAA,KAAK,EAALA;AAHG,OAAV;AAMH,GAPD;;AAWA,MAAMC,UAAU,GAAC,SAAXA,UAAW,CAACC,KAAD,EAAS;AACtBf,IAAAA,UAAU,iCAECD,OAFD;AAGFiB,MAAAA,IAAI,EAAC,CAACjB,OAAO,CAACiB;AAHZ,OAAV;AAMCR,IAAAA,OAAO,CAACC,GAAR,CAAYV,OAAO,CAACiB,IAApB;AACJ,GARD;;AAUA,MAAMC,YAAY,GAAC,SAAbA,YAAa,GAAI;AACfhB,IAAAA,QAAQ,CAACT,aAAa,CAACO,OAAO,CAACc,KAAT,EAAgBd,OAAO,CAACF,EAAxB,CAAd,CAAR;AACP,GAFD;;AAGJ,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOE,OAAO,CAACmB,IAAf,CADL,EAEK,oBAAC,KAAD;AAAQ,IAAA,MAAM,EAAE;AAACC,MAAAA,GAAG,EAAEpB,OAAO,CAACqB;AAAd,KAAhB;AAAoC,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE,GAAR;AAC3CC,MAAAA,MAAM,EAAE;AADmC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFL,EAII,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAE,IAAtB;AAA4B,IAAA,aAAa,EAAE,CAA3C;AAAgD,IAAA,KAAK,EAAEvB,OAAO,CAACY,WAA/D;AAA4E,IAAA,YAAY,EAAED,iBAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEa,MAAM,CAAC5B,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAN,UADJ,EAEI,oBAAC,SAAD;AAAY,IAAA,KAAK,EAAE4B,MAAM,CAACC,SAA1B;AAAqC,IAAA,KAAK,EAAEzB,OAAO,CAACc,KAApD;AAA2D,IAAA,YAAY,EAAED,WAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CANJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,EAWI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEW,MAAM,CAAC5B,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAN,MADJ,EAEI,oBAAC,MAAD;AAAS,IAAA,aAAa,EAAE,uBAACoB,KAAD;AAAA,aAASD,UAAU,CAACC,KAAD,CAAnB;AAAA,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD,CAAQ,IAAR;AAAa,IAAA,KAAK,EAAC,KAAnB;AAAyB,IAAA,KAAK,EAAEhB,OAAO,CAACiB,IAAR,GAAe,KAAf,GAAsB,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,MAAD,CAAQ,IAAR;AAAa,IAAA,KAAK,EAAC,IAAnB;AAAwB,IAAA,KAAK,EAAE,CAACjB,OAAO,CAACiB,IAAT,GAAgB,KAAhB,GAAuB,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFJ,CAXJ,EAkBI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,gBAAd;AAA+B,IAAA,OAAO,EAAE;AAAA,aAAIC,YAAY,EAAhB;AAAA,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBJ,CADJ,CADJ;AAwBH","sourcesContent":["import React,{useState,useEffect}from 'react'\r\nimport { StyleSheet, Text, View, Image, Button,} from 'react-native'\r\nimport {Picker} from '@react-native-picker/picker'\r\nimport axios from 'axios';\r\nimport { TextInput } from 'react-native-gesture-handler';\r\nimport {updateProduct} from '../../../actions'\r\nimport { useDispatch } from 'react-redux';\r\nimport { IP } from '../../../env';\r\n\r\n\r\nexport default function editProduct({route}) {\r\n    const {id}=route.params\r\n    const [product, setProduct]= useState({});\r\n    const dispatch= useDispatch()\r\n\r\n    useEffect(()=>{\r\n        axios.get(`${IP}/products?id=${id}`)\r\n            .then(function(response){\r\n                setProduct(response.data)\r\n            })\r\n            .catch(error=>{\r\n              console.log(error)  \r\n            })\r\n             \r\n        },[])\r\n\r\n        const handleDescription=(description)=>{\r\n            setProduct(\r\n               {\r\n                   ...product,\r\n                   description\r\n               }\r\n            )\r\n        }\r\n        const handlePrice=(price)=>{\r\n            setProduct(\r\n               {\r\n                   ...product,\r\n                   price\r\n               }\r\n            )\r\n        }\r\n\r\n      \r\n        \r\n        const handleSale=(value)=>{  \r\n            setProduct(\r\n                {\r\n                    ...product,\r\n                    sale:!product.sale\r\n                }\r\n             )\r\n             console.log(product.sale)\r\n        }\r\n\r\n        const handleUpdate=()=>{\r\n                dispatch(updateProduct(product.price, product.id))\r\n        }\r\n    return (\r\n        <View>\r\n            <View>\r\n                 <Text>{product.name}</Text>\r\n                 <Image  source={{uri: product.img}} style={{width: 150,\r\n                 height: 150}}/>\r\n                <TextInput multiline={true} numberOfLines={6}   value={product.description} onChangeText={handleDescription}/>\r\n                <hr/>\r\n                <View style={styles.editProduct}>\r\n                    <Text><b>Price:</b> USD </Text>\r\n                    <TextInput  style={styles.textInput} value={product.price} onChangeText={handlePrice}/> \r\n                </View>\r\n                <hr></hr> \r\n                <View style={styles.editProduct}>\r\n                    <Text><b> On sale:</b> </Text>\r\n                    <Picker  onValueChange={(value)=>handleSale(value)}>\r\n                        <Picker.Item label=\"Yes\" value={product.sale ? \"yes\": \"no\"}></Picker.Item>\r\n                        <Picker.Item label=\"No\" value={!product.sale ? \"yes\": \"no\"}></Picker.Item>\r\n                    </Picker>                \r\n                </View>\r\n                <Button title=\"Update Product\" onPress={()=>handleUpdate()}/>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\n// const styles = StyleSheet.create({\r\n//     textInput:{\r\n//        borderBottomWidth:1,\r\n//        borderColor: 'gray'\r\n//     },\r\n//     editProduct:{\r\n//         display:\"flex\",\r\n//         flexDirection:\"row\"\r\n//     }\r\n// })\r\n"]},"metadata":{},"sourceType":"module"}